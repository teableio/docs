---
title: "OIDC 单点登录"
description: "为私有化部署的 Teable 配置 OpenID Connect (OIDC) 身份认证。"
---

Teable 支持 OIDC 单点登录，可以与外部身份提供商集成实现用户认证。

## 环境变量配置

在私有化部署的 Teable 中启用 OIDC，需要配置以下环境变量：

```sh
# 核心 OIDC 配置
BACKEND_OIDC_CLIENT_ID=your_client_id
BACKEND_OIDC_CLIENT_SECRET=your_client_secret
BACKEND_OIDC_CALLBACK_URL=https://your-teable-domain.com/api/auth/oidc/callback

# OAuth 端点（从身份提供商获取）
BACKEND_OIDC_AUTHORIZATION_URL=https://your-idp.com/authorize
BACKEND_OIDC_TOKEN_URL=https://your-idp.com/token
BACKEND_OIDC_USER_INFO_URL=https://your-idp.com/userinfo
BACKEND_OIDC_ISSUER=https://your-idp.com

# 其他选项
BACKEND_OIDC_OTHER={"scope": ["email", "profile"]}

# 启用 OIDC 认证
SOCIAL_AUTH_PROVIDERS=oidc
```

## 配置参考

| 变量 | 说明 |
|------|------|
| `BACKEND_OIDC_CLIENT_ID` | 身份提供商分配的客户端 ID |
| `BACKEND_OIDC_CLIENT_SECRET` | 身份提供商分配的客户端密钥 |
| `BACKEND_OIDC_CALLBACK_URL` | Teable 的回调 URL（必须与 IdP 配置一致） |
| `BACKEND_OIDC_AUTHORIZATION_URL` | IdP 的授权端点 |
| `BACKEND_OIDC_TOKEN_URL` | IdP 的令牌端点 |
| `BACKEND_OIDC_USER_INFO_URL` | IdP 的用户信息端点 |
| `BACKEND_OIDC_ISSUER` | IdP 的 Issuer 标识符 |
| `BACKEND_OIDC_OTHER` | JSON 格式的其他选项（如 scope） |
| `SOCIAL_AUTH_PROVIDERS` | 包含 `oidc` 以启用 OIDC 登录按钮 |

---

## 身份提供商配置指南

各身份提供商的详细配置步骤，请参考以下指南：

<CardGroup cols={2}>
  <Card title="Azure Entra ID" icon="microsoft" href="/zh/basic/sso/azure-entra-id">
    Microsoft Azure AD / Entra ID
  </Card>
  <Card title="Okta" icon="shield-halved" href="/zh/basic/sso/okta">
    Okta 身份平台
  </Card>
  <Card title="Auth0" icon="lock" href="/zh/basic/sso/auth0">
    Auth0 身份平台
  </Card>
  <Card title="Google Workspace" icon="google" href="/zh/basic/sso/google-workspace">
    Google Workspace 账号
  </Card>
  <Card title="OneLogin" icon="fingerprint" href="/zh/basic/sso/onelogin">
    OneLogin 身份管理
  </Card>
  <Card title="Authentik" icon="key" href="/zh/basic/sso/authentik">
    Authentik 开源身份提供商
  </Card>
</CardGroup>

<Note>
上述指南展示的是 Cloud 用户的管理面板配置方式。对于私有化部署，请按照指南中的 IdP 端配置步骤操作，然后使用上方的环境变量代替管理面板配置。
</Note>

---

## 启用多种认证方式

可以同时启用多种认证方式：

```sh
SOCIAL_AUTH_PROVIDERS=github,google,oidc
```

这样用户可以通过 GitHub、Google 或 OIDC 登录。

---

## 重要注意事项

1. **必须使用 HTTPS**：生产环境中所有 URL 必须使用 HTTPS
2. **回调 URL 必须匹配**：Teable 中的回调 URL 必须与 IdP 中配置的完全一致
3. **需要重启**：修改环境变量后需要重启 Teable 才能生效
4. **安全存储**：切勿将密钥提交到版本控制系统；使用环境变量或密钥管理工具

---

## 相关文档

- [环境变量参考](/zh/deploy/env)
