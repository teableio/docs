---
title: "关联"
description: "关联字段是是连接不同数据表的桥梁。允许用户在不同的数据表之间建立关系。通过关联字段，用户可以轻松地在当前表中插入其他表中的记录，并快速查看和跳转至关联的数据表。"
---

## 一、 创建与配置

通过简单的配置，即可将两张表的数据打通，实现跨表协作。

### 1. 新建关联字段
1. 在 A 表（如“订单表中点击添加字段，选择 **关联** 类型
2. 在弹出的配置窗口中，选择您希望关联的 B 表（如“客户表”）

### 2. 选择关联模式（单向/双向）
- **双向关联**：默认开启。系统会在 A 表创建关联字段的同时，自动在 B 表也创建一个对应的关联字段。
    - 在“订单表”关联了“张三”，去“客户表”看“张三”的记录时，也会自动显示关联了哪些“订单”。两边数据实时同步，互为镜像。
- **单向关联**：关闭双向开关。仅在 A 表显示关联信息，B 表不显示。
    - 只需单方面引用数据，不想干扰被引用表的结构（例如员工表单向关联城市表，城市表无需显示哪些员工住在这里）。

### 3. 关联关系及如何建立

通过组合配置 **“允许多选”** 和 **“允许重复值”** 两个开关，可以定义四种标准的数据关系模型：

| 关系模型 | 业务场景示例 | 配置方式 |
| :--- | :--- | :--- |
| **一对一 (1:1)** | **员工 - 档案**<br />一个员工只能有一份档案，一份档案也只属于一个员工 | ☐ 允许多选<br />☐ 允许重复值<br />*(两个开关均关闭)* |
| **一对多 (1:N)** | **部门 - 员工**<br />一个部门包含多个员工，但一个员工只属于一个部门 | ☑ 允许多选<br />☐ 允许重复值<br />*(仅开启允许多选)* |
| **多对一 (N:1)** | **任务 - 项目**<br />多个任务属于同一个项目，但一个任务只能属于一个项目 | ☐ 允许多选<br />☑ 允许重复值<br />*(仅开启允许重复值)* |
| **多对多 (N:N)** | **学生 - 课程**<br />一个学生选修多门课，一门课也有多个学生上 | ☑ 允许多选<br />☑ 允许重复值<br />*(两个开关均开启)* |

## 二、 使用场景

### 场景一：CRM 客户管理（一对多）
- **数据表**：`公司表` + `联系人表`
- **关系**：一家公司可能有多个联系人（CEO、采购经理等），但一个联系人通常只属于一家公司
- **操作**：
    1. 在 `公司表` 创建关联字段指向 `联系人表`
    2. 开启“允许多选记录”，这样在“字节跳动”这条记录里，可以同时关联“张三”、“李四”两个人
    3. 系统自动在 `联系人表` 生成“所属公司”字段，自动限制为单选（因为已是一对多），张三只能归属于一个公司

### 场景二：项目任务分配（多对一）
- **数据表**：`任务表` + `项目表`
- **关系**：多个细分任务属于同一个大项目
- **操作**：
    1. 在 `任务表` 创建关联字段指向 `项目表`
    2. 关闭“允许多选记录”，确保每个任务只能归属 1 个项目
    3. 这样在查看 `项目表` 时，可以看到该项目下挂载的所有任务列表

---

## 三、 功能特性

- **数据一致性**：关联的是记录对象而非简单的文本。如果“客户表”里的“张三”改名为“张三丰”，所有关联了该记录的订单表会自动同步更新名字，无需手动修改
- **扩展能力**：建立关联是使用 **查找** 和 **汇总** 字段的前提。只有先关联，才能进一步引用对方的电话号码，或汇总对方的消费总金额

---

## 四、注意事项

- **一对多限制**：在严格的“一对多”关系配置下（B表侧关闭多选），一旦 B 表的某条记录（如“身份证号”）被 A 表某条记录关联，它就不能再被 A 表其他记录选择了。这能有效防止数据重复占用（如一个身份证号不能对应两个员工）