---
title: "环境变量"
description: "这里列举了Teable 所有可用的环境变量以及相关解释"
mode: "wide"
---

<Callout type="warning">
生产环境强烈推荐使用 **S3-compatible 对象存储**（`s3` / `minio`），并按 **public/private 双桶**进行配置。  
同时请确保 public bucket 配置 **public-read + CORS**。详见：[对象存储（S3-compatible）](/zh/deploy/storage)。
</Callout>

| 环境变量                                         | 描述                                                      | 默认值              | 必填 | 示例                                               |
| -------------------------------------------- | ------------------------------------------------------- | ---------------- | ---- | ------------------------------------------------ |
| 核心配置                                                                          |
| PUBLIC_ORIGIN                               | 用于生成完整 URL 的公共源，必须设置为您的应用程序访问地址                         | -                | 是    | https://app.teable.ai                            |
| SECRET_KEY                                  | 用于 JWT、会话和共享的密钥，请使用强密码                                  | defaultSecretKey | 是    | yourStrongSecretKey                              |
| PORT                                         | 应用程序运行的端口                                               | 3000             | -    | 3000                                             |
| LOG_LEVEL                                   | 日志级别，可选值：fatal、error、warn、info、debug、trace              | info             | -    | debug                                            |
| NEXT_ENV_IMAGES_ALL_REMOTE                  | 是否允许加载第三方图片                                              | false           | - | true                                                |   
| 存储配置                                                                          |
| BACKEND_STORAGE_PROVIDER                   | 存储提供商，可选值：local、minio、s3、aliyun                       | local            | -    | s3                                               |
| BACKEND_STORAGE_LOCAL_PATH                | 本地存储路径                                                   | .assets/uploads  | -    | .assets/uploads                                   |
| BACKEND_STORAGE_PUBLIC_BUCKET             | public bucket 名称                                           | public           | -    | teable-public                                     |
| BACKEND_STORAGE_PRIVATE_BUCKET            | private bucket 名称                                          | private          | -    | teable-private                                    |
| BACKEND_STORAGE_PUBLIC_URL                | public bucket 的公共访问 URL 覆盖（可选）                            | -                | -    | https://cdn.example.com                           |
| BACKEND_STORAGE_PRIVATE_BUCKET_ENDPOINT   | private bucket 的 endpoint 覆盖（可选）                            | -                | -    | https://private-bucket.endpoint                   |
| BACKEND_STORAGE_S3_REGION                 | S3 云存储区域，当 BACKEND_STORAGE_PROVIDER 为 s3 时需要配置        | -                | -    | us-east-2                                        |
| BACKEND_STORAGE_S3_ENDPOINT               | S3 云存储端点，当 BACKEND_STORAGE_PROVIDER 为 s3 时需要配置        | -                | -    | https://s3.us-east-2.amazonaws.com               |
| BACKEND_STORAGE_S3_INTERNAL_ENDPOINT      | S3 内网 endpoint（可选）                                       | -                | -    | http://s3.internal                                |
| BACKEND_STORAGE_S3_ACCESS_KEY            | S3 云存储访问密钥，当 BACKEND_STORAGE_PROVIDER 为 s3 时需要配置      | -                | -    | your_access_key                                |
| BACKEND_STORAGE_S3_SECRET_KEY            | S3 云存储秘密密钥，当 BACKEND_STORAGE_PROVIDER 为 s3 时需要配置      | -                | -    | your_secret_key                                |
| BACKEND_STORAGE_S3_MAX_SOCKETS            | S3 最大连接数（可选）                                             | 100              | -    | 100                                               |
| BACKEND_STORAGE_MINIO_ENDPOINT            | Minio 存储端点                                              | -                | -    | minio.example.com                                |
| BACKEND_STORAGE_MINIO_PORT                | Minio 端口                                                 | 9000             | -    | 443                                               |
| BACKEND_STORAGE_MINIO_USE_SSL             | Minio 是否启用 SSL                                           | false            | -    | true                                              |
| BACKEND_STORAGE_MINIO_ACCESS_KEY         | Minio 访问密钥                                             | -                | -    | access-key                                       |
| BACKEND_STORAGE_MINIO_SECRET_KEY         | Minio 秘密密钥                                             | -                | -    | secret-key                                       |
| BACKEND_STORAGE_MINIO_INTERNAL_ENDPOINT   | Minio 内网 endpoint（可选，不支持 HTTPS）                          | -                | -    | minio.internal                                    |
| BACKEND_STORAGE_MINIO_INTERNAL_PORT       | Minio 内网端口（可选）                                         | 9000             | -    | 9000                                              |
| BACKEND_STORAGE_MINIO_REGION              | Minio region（可选）                                        | -                | -    | us-east-1                                         |
| BACKEND_STORAGE_UPLOAD_METHOD             | 上传方式                                                    | put              | -    | put                                               |
| STORAGE_PREFIX                              | 存储前缀，默认为 PUBLIC_ORIGIN                               | PUBLIC_ORIGIN   | -    | http://localhost:3000                            |
| 缓存配置                                                                          |
| BACKEND_CACHE_PROVIDER                     | 缓存提供商，可选值：sqlite、memory、redis                           | sqlite           | -    | redis                                            |
| BACKEND_CACHE_REDIS_URI                   | Redis 缓存连接 URI，当 BACKEND_CACHE_PROVIDER 为 redis 时需要配置 | -                | -    | redis://default:teable@127.0.0.1:6379/0          |
| 性能缓存配置                                                                        |
| BACKEND_PERFORMANCE_CACHE                  | 性能缓存 Redis URL，用于查询结果缓存，大幅提高多人协作场景下的处理效率，建议配置单独的 Redis 实例，不要与 BACKEND_CACHE_REDIS_URI 一样 | -                | -    | redis://default:teable@127.0.0.1:6379/0          |
| 认证配置                                                                          |
| SOCIAL_AUTH_PROVIDERS                      | 社交认证提供商列表，多个提供商用逗号分隔                                    | -                | -    | github,google,oidc                               |
| BACKEND_GITHUB_CLIENT_ID                  | GitHub OAuth 客户端 ID                                     | -                | -    | github_client_id                               |
| BACKEND_GITHUB_CLIENT_SECRET              | GitHub OAuth 客户端密钥                                      | -                | -    | github_client_secret                           |
| BACKEND_GOOGLE_CLIENT_ID                  | Google OAuth 客户端 ID                                     | -                | -    | google_client_id                               |
| BACKEND_GOOGLE_CLIENT_SECRET              | Google OAuth 客户端密钥                                      | -                | -    | google_client_secret                           |
| BACKEND_OIDC_CLIENT_ID                    | OIDC 客户端 ID                                             | -                | -    | google_client_id                               |
| BACKEND_OIDC_CLIENT_SECRET                | OIDC 客户端密钥                                              | -                | -    | google_client_secret                           |
| BACKEND_OIDC_CALLBACK_URL                 | OIDC 回调 URL                                             | -                | -    | https://app.teable.ai/api/auth/oidc/callback     |
| 安全验证配置                                                                        |
| TURNSTILE_SITE_KEY                         | Cloudflare Turnstile 站点密钥，用于身份验证验证                      | -                | -    | 1x00000000000000000000AA                          |
| TURNSTILE_SECRET_KEY                       | Cloudflare Turnstile 秘密密钥，用于身份验证验证                      | -                | -    | 1x0000000000000000000000000000000AA               |
| BACKEND_SIGNUP_VERIFICATION_CODE_RATE_LIMIT_SECONDS | 注册验证邮箱发送频率间隔限制（秒）                                      | -                | -    | 30                                                |
| 邮件配置（已弃用 - 请使用管理面板设置）                                                                          |
| BACKEND_MAIL_HOST                          | **[已弃用]** 邮件服务器主机。请使用管理面板 > 设置进行可视化邮件配置                                                 | -                | -    | smtp.gmail.com                                   |
| BACKEND_MAIL_PORT                          | **[已弃用]** 邮件服务器端口。请使用管理面板 > 设置进行可视化邮件配置                                                 | -                | -    | 465                                              |
| BACKEND_MAIL_AUTH_USER                    | **[已弃用]** 邮件服务器认证用户名。请使用管理面板 > 设置进行可视化邮件配置                                              | -                | -    | username                                         |
| BACKEND_MAIL_AUTH_PASS                    | **[已弃用]** 邮件服务器认证密码。请使用管理面板 > 设置进行可视化邮件配置                                               | -                | -    | usertoken                                        |
| 会话/JWT 配置                                                                     |
| BACKEND_SESSION_EXPIRES_IN                | 会话过期时间                                                  | 7d               | -    | 7d                                               |
| BACKEND_SESSION_COOKIE_SECURE             | 是否启用会话 Cookie 安全保护，默认为 false                      | false            | -    | true                                             |
| BACKEND_JWT_EXPIRES_IN                    | JWT 过期时间                                                | 20d              | -    | 20d                                              |
| BACKEND_RESET_PASSWORD_EMAIL_EXPIRES_IN | 重置密码邮件过期时间                                              | 30m              | -    | 30m                                              |
| 资源限制                                                                          |
| MAX_COPY_CELLS                            | 单次请求最大复制单元格数                                          | -                | -    | 50000                                            |
| MAX_READ_ROWS                             | 单次请求最大读取行数                                            | -                | -    | 10000                                            |
| MAX_ATTACHMENT_UPLOAD_SIZE               | 附件上传最大大小（字节）                                          | -                | -    | 2147483648                                       |
| 功能开关                                                                          |
| RECORD_HISTORY_DISABLED                    | 是否禁用记录历史，默认为 false                                    | false            | -    | true                                             |
| PASSWORD_LOGIN_DISABLED                    | 是否禁用密码登录（OAuth 和 OIDC 仍然可用），默认为 false               | false            | -    | true                                             |
| 分析监控                                                                          |
| MICROSOFT_CLARITY_ID                       | Microsoft Clarity 指标 ID，用于启用 Microsoft Clarity 分析       | -                | -    | your-metrics-id                                  |
| OTEL_EXPORTER_OTLP_ENDPOINT              | OpenTelemetry OTLP 端点                                   | -                | -    | http://jaeger:4317                               |
| 数据库配置                                                                         |
| PRISMA_DATABASE_URL                        | 数据库连接 URL，必须配置                                          | -                | 是    | postgresql://teable:teable@127.0.0.1:5432/teable |
| PRISMA_TRANSACTION_TIMEOUT                 | 事务运行超时时间（毫秒），对于长时间运行的事务（如包含多个外键的批量更新）可以增加此值 | 5000            | -    | 60000                                             |
| PRISMA_TRANSACTION_MAX_WAIT                | 从连接池获取事务的最大等待时间（毫秒）                                  | 2000            | -    | 5000                                              |
| 前端配置                                                                          |
| NEXT_BUILD_ENV_ASSET_PREFIX                | 启用前端静态资源 CDN 回源地址，在配置好回源到本站点之后配置该变量以启用 CDN        | -               | -        | https://cdn.mydomain.com                          |